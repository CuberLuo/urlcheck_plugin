<!DOCTYPE html>
<html>
  <head>
    <title>绘制带箭头的直线</title>
  </head>
  <body>
    <canvas id="arrowCanvas" width="800" height="600"></canvas>

    <script>
      const canvas = document.getElementById('arrowCanvas')
      const context = canvas.getContext('2d')

      function drawArrowLine(startX, startY, endX, endY, arrowSize, color) {
        // 计算箭头角度和长度
        const angle = Math.atan2(endY - startY, endX - startX)
        const x1 = arrowSize * Math.cos(angle + Math.PI / 6)
        const y1 = arrowSize * Math.sin(angle + Math.PI / 6)
        const x2 = arrowSize * Math.cos(angle - Math.PI / 6)
        const y2 = arrowSize * Math.sin(angle - Math.PI / 6)

        // 绘制直线部分
        context.beginPath()
        context.moveTo(startX, startY)
        context.lineTo(endX, endY)
        context.strokeStyle = color
        context.lineWidth = 2
        context.stroke()

        // 绘制箭头部分
        context.beginPath()
        context.moveTo(endX, endY)
        context.lineTo(endX - x1, endY - y1)
        context.moveTo(endX, endY)
        context.lineTo(endX - x2, endY - y2)
        context.strokeStyle = color
        context.stroke()
      }

      // 调用函数绘制带箭头的直线
      drawArrowLine(300, 200, 530, 692, 10, 'blue')
    </script>
  </body>
</html>
